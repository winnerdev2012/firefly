<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="625" height="840"><desc>title%20Smart%20Contracts%20Async%20Flow%0A%0AApp-%3EFireFly%3A%20POST%3A%20Invoke%20custom%20contract%0AFireFly-%3EBlockchain%3A%20Submit%20transaction%0ABlockchain-%3EFireFly%3A%20Accepted%0AFireFly-%3EApp%3A%20202%20Accepted%5Cn%20Operation%20ID%0ABlockchain-%3EBlockchain%3A%20Perform%20transaction%0ABlockchain-%3EFireFly%3A%20Emit%20events%0AFireFly-%3EApp%3A%20Emit%20events%0ABlockchain-%3EFireFly%3A%20Transaction%20success%0AFireFly-%3EApp%3A%20Emit%20events%0Anote%20over%20FireFly%3A%20At%20this%20point%20the%20transaction%20is%20done%5Cnand%20the%20app%20can%20query%20results%0AApp-%3EFireFly%3A%20GET%3A%20Query%20events%0AFireFly-%3EApp%3A%20200%20Events%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="625" height="840"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="173.83011133176888" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Smart Contracts Async Flow</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 40.925164177730466 103.26361593799999 L 40.925164177730466 840.3582509980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 285.0089720783815 103.26361593799999 L 285.0089720783815 840.3582509980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 465.00543867043876 103.26361593799999 L 465.00543867043876 840.3582509980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 73.05444965546093 55.765870957999994 L 73.05444965546093 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">App</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 243.52750611969398 55.765870957999994 L 326.490438037069 55.765870957999994 L 326.490438037069 103.26361593799999 L 243.52750611969398 103.26361593799999 L 243.52750611969398 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="262.614562898694" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">FireFly</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 410.47101708430984 55.765870957999994 L 519.5398602565676 55.765870957999994 L 519.5398602565676 103.26361593799999 L 410.47101708430984 103.26361593799999 L 410.47101708430984 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="429.55807386330986" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Blockchain</text></g></g><g><g><g><rect fill="white" stroke="none" x="61.7420771010638" y="138.44713073799997" width="202.44998205398437" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="64.3808407110638" y="154.279712398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST: Invoke custom contract</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 40.925164177730466 161.31641535799997 L 270.52509181904816 161.31641535799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(285.0089720783815,161.31641535799997) translate(-285.0089720783815,-161.31641535799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 270.3491742450481 153.9865164413333 L 285.0089720783815 161.31641535799997 L 270.3491742450481 168.64631427466665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="311.6633865275937" y="187.70405145799995" width="126.68763769363281" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="314.3021501375937" y="203.53663311799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Submit transaction</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 285.0089720783815 210.57333607799995 L 450.52155841110545 210.57333607799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(465.00543867043876,210.57333607799995) translate(-465.00543867043876,-210.57333607799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 450.3456408371054 203.24343716133328 L 465.00543867043876 210.57333607799995 L 450.3456408371054 217.90323499466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="341.8065368571835" y="236.96097217799993" width="66.40133703445312" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="344.44530046718353" y="252.79355383799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Accepted</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 465.00543867043876 259.83025679799994 L 299.4928523377148 259.83025679799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(285.0089720783815,259.83025679799994) translate(-285.0089720783815,-259.83025679799994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.66876991171483 252.50035788133326 L 285.0089720783815 259.83025679799994 L 299.66876991171483 267.1601557146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="115.50011848289974" y="286.21789289799995" width="94.9338992903125" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="115.50011848289974" y="303.80965029799995" width="92.46434057449218" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="118.13888209289973" y="302.05047455799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">202 Accepted</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="118.13888209289973" y="319.64223195799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> Operation ID</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 285.0089720783815 326.6789349179999 L 55.4090444370638 326.6789349179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(40.925164177730466,326.6789349179999) translate(-40.925164177730466,-326.6789349179999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 55.584962011063794 319.3490360013333 L 40.925164177730466 326.6789349179999 L 55.584962011063794 334.0088338346666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="485.8223515937721" y="353.06657101799993" width="133.19442785476562" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="488.4611152037721" y="368.89915267799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Perform transaction</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 465.00543867043876 375.93585563799996 L 535.3724682704387 375.93585563799996 L 535.3724682704387 398.80514025799994 L 479.4893189297721 398.80514025799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(465.00543867043876,398.80514025799994) translate(-465.00543867043876,-398.80514025799994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 479.6652365037721 391.4752413413333 L 465.00543867043876 398.80514025799994 L 479.6652365037721 406.1350391746666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="334.07568663745695" y="425.19277635799995" width="81.86303747390625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.71445024745697" y="441.02535801799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Emit events</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 465.00543867043876 448.0620609779999 L 299.4928523377148 448.0620609779999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(285.0089720783815,448.0620609779999) translate(-285.0089720783815,-448.0620609779999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.66876991171483 440.73216206133327 L 285.0089720783815 448.0620609779999 L 299.66876991171483 455.39195989466657 Z"/></g></g><g><g><rect fill="white" stroke="none" x="122.03554939110286" y="474.44969707799993" width="81.86303747390625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="124.67431300110286" y="490.28227873799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Emit events</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 285.0089720783815 497.3189816979999 L 55.4090444370638 497.3189816979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(40.925164177730466,497.3189816979999) translate(-40.925164177730466,-497.3189816979999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 55.584962011063794 489.98908278133325 L 40.925164177730466 497.3189816979999 L 55.584962011063794 504.64888061466655 Z"/></g></g><g><g><rect fill="white" stroke="none" x="305.82588500171477" y="523.7066177979999" width="138.36264074539062" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="308.4646486117148" y="539.5391994579999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Transaction success</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 465.00543867043876 546.5759024179999 L 299.4928523377148 546.5759024179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(285.0089720783815,546.5759024179999) translate(-285.0089720783815,-546.5759024179999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.66876991171483 539.2460035013332 L 285.0089720783815 546.5759024179999 L 299.66876991171483 553.9058013346666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="122.03554939110286" y="572.963538518" width="81.86303747390625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="124.67431300110286" y="588.7961201779999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Emit events</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 285.0089720783815 595.832823138 L 55.4090444370638 595.832823138" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(40.925164177730466,595.832823138) translate(-40.925164177730466,-595.832823138)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 55.584962011063794 588.5029242213333 L 40.925164177730466 595.832823138 L 55.584962011063794 603.1627220546667 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 146.28965325890883 622.220459238 L 407.8957092378541 622.220459238 L 423.7282908978541 638.053040898 L 423.7282908978541 680.273258658 L 146.28965325890883 680.273258658 L 146.28965325890883 622.220459238 M 407.8957092378541 622.220459238 L 407.8957092378541 638.053040898 L 423.7282908978541 638.053040898" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="170.91811361890882" y="646.8489195980001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">At this point the transaction is done</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="170.91811361890882" y="664.4406769980001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and the app can query results</text></g><g><g><rect fill="white" stroke="none" x="98.40633796532161" y="706.660894758" width="129.12146032546875" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="101.04510157532161" y="722.493476418" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET: Query events</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 40.925164177730466 729.5301793780001 L 270.52509181904816 729.5301793780001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(285.0089720783815,729.5301793780001) translate(-285.0089720783815,-729.5301793780001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 270.3491742450481 722.2002804613334 L 285.0089720783815 729.5301793780001 L 270.3491742450481 736.8600782946668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="123.65330146629817" y="755.9178154780001" width="78.62753332351562" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="126.29206507629817" y="771.750397138" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 Events</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 285.0089720783815 778.7871000980001 L 55.4090444370638 778.7871000980001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(40.925164177730466,778.7871000980001) translate(-40.925164177730466,-778.7871000980001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 55.584962011063794 771.4572011813334 L 40.925164177730466 778.7871000980001 L 55.584962011063794 786.1169990146668 Z"/></g></g></g><g/><g/><g/></g></svg>